<?xml version="1.0"?>
<robot name="pick_ball_mbot" xmlns:xacro="http://www.ros.org/wiki/xacro">
    
    <xacro:property name="collector_mass_multiplier" value="15"/>
    <xacro:property name="base_link_mass_multiplier" value="8"/>
    <xacro:property name="cover_mass_multiplier" value="1"/>

    <xacro:macro name="pick_ball_mbot_base_gazebo">
        <origin xyz="1 1 1" rpy="0 0 0" />
        <link name="base_footprint">
            <visual>
                <origin xyz="0 0 0" rpy="0 0 0" />
                <geometry>
                    <box size="0.001 0.001 0.001" />
                </geometry>
            </visual>
        </link>
        <gazebo reference="base_footprint">
            <turnGravityOff>false</turnGravityOff>
        </gazebo>

        <joint name="base_footprint_joint" type="fixed">
            <origin xyz="0 0 0" rpy="0 0 0" />        
            <parent link="base_footprint"/>
            <child link="base_link" />
        </joint>

         <link
            name="base_link">
            <inertial>
            <origin
                xyz="0.012976 -0.013657 0.17563"
                rpy="0 0 0" />
            <mass
                value="1.0824" />
            <inertia
                ixx="${base_link_mass_multiplier*0.0036507}"
                ixy="${base_link_mass_multiplier*(5.8245E-21)}"
                ixz="${base_link_mass_multiplier*(-1.7168E-19)}"
                iyy="${base_link_mass_multiplier*0.0038702}"
                iyz="${base_link_mass_multiplier*(-0.00014855)}"
                izz="${base_link_mass_multiplier*0.0015847}" />
            </inertial>
            <visual>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/base_link.STL" />
            </geometry>
            <material
                name="">
                <color
                rgba="0.79216 0.81961 0.93333 1" />
            </material>
            </visual>
            <collision>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/base_link.STL" />
            </geometry>
            </collision>
        </link>
        <link
            name="front_right_wheel">
            <inertial>
            <origin
                xyz="3.2106E-12 -1.2799E-13 0.014176"
                rpy="0 0 0" />
            <mass
                value="0.093783" />
            <inertia
                ixx="3.0977E-05"
                ixy="1.1309E-09"
                ixz="6.3388E-15"
                iyy="3.1005E-05"
                iyz="-2.5278E-16"
                izz="4.7784E-05" />
            </inertial>
            <visual>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/front_right_wheel.STL" />
            </geometry>
            <material
                name="">
                <color
                rgba="1 1 1 1" />
            </material>
            </visual>
            <collision>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/front_right_wheel.STL" />
            </geometry>
            </collision>
        </link>
        <joint
            name="front_right_wheel_joint"
            type="continuous">
            <origin
            xyz="-0.066074 -0.10152 -0.030048"
            rpy="1.5708 1.5309 -1.5744" />
            <parent
            link="base_link" />
            <child
            link="front_right_wheel" />
            <axis
            xyz="0 0 0" />
        </joint>
        <link
            name="front_left_wheel">
            <inertial>
            <origin
                xyz="7.3687E-13 -3.129E-12 0.014824"
                rpy="0 0 0" />
            <mass
                value="0.093783" />
            <inertia
                ixx="3.1004E-05"
                ixy="6.672E-09"
                ixz="-1.5055E-15"
                iyy="3.0979E-05"
                iyz="6.1608E-15"
                izz="4.7784E-05" />
            </inertial>
            <visual>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/front_left_wheel.STL" />
            </geometry>
            <material
                name="">
                <color
                rgba="1 1 1 1" />
            </material>
            </visual>
            <collision>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/front_left_wheel.STL" />
            </geometry>
            </collision>
        </link>
        <joint
            name="front_left_wheel_joint"
            type="continuous">
            <origin
            xyz="0.12101 -0.10059 -0.030048"
            rpy="1.5708 0.24454 -1.546" />
            <parent
            link="base_link" />
            <child
            link="front_left_wheel" />
            <axis
            xyz="0 0 0" />
        </joint>
        <link
            name="rear_left_wheel">
            <inertial>
            <origin
                xyz="-2.77555756156289E-17 3.21316931395366E-12 -0.0141764123448539"
                rpy="0 0 0" />
            <mass
                value="0.0937829390237727" />
            <inertia
                ixx="3.10055399070393E-05"
                ixy="-2.36350053451677E-24"
                ixz="5.92798954623863E-20"
                iyy="3.09771368078223E-05"
                iyz="-6.34439778292892E-15"
                izz="4.77838078287253E-05" />
            </inertial>
            <visual>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/rear_left_wheel.STL" />
            </geometry>
            <material
                name="">
                <color
                rgba="1 1 1 1" />
            </material>
            </visual>
            <collision>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/rear_left_wheel.STL" />
            </geometry>
            </collision>
        </link>
        <joint
            name="rear_left_wheel_joint"
            type="continuous">
            <origin
            xyz="0.092074 -0.24356 -0.030048"
            rpy="1.5708 0 -1.5708" />
            <parent
            link="base_link" />
            <child
            link="rear_left_wheel" />
            <axis
            xyz="0 0 0" />
        </joint>
        <link
            name="rear_right_wheel">
            <inertial>
            <origin
                xyz="3.1321E-12 7.1729E-13 0.014824"
                rpy="0 0 0" />
            <mass
                value="0.093783" />
            <inertia
                ixx="3.0979E-05"
                ixy="-6.1803E-09"
                ixz="-6.184E-15"
                iyy="3.1004E-05"
                iyz="-1.4162E-15"
                izz="4.7784E-05" />
            </inertial>
            <visual>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/rear_right_wheel.STL" />
            </geometry>
            <material
                name="">
                <color
                rgba="1 1 1 1" />
            </material>
            </visual>
            <collision>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/rear_right_wheel.STL" />
            </geometry>
            </collision>
        </link>
        <joint
            name="rear_right_wheel_joint"
            type="continuous">
            <origin
            xyz="-0.095123 -0.24365 -0.030048"
            rpy="-1.5708 1.3457 -1.5685" />
            <parent
            link="base_link" />
            <child
            link="rear_right_wheel" />
            <axis
            xyz="0 0 0" />
        </joint>
        <link
            name="collector">
            <inertial>
            <origin
                xyz="0.0029090749423291 -0.040890215457459 0.173468819063092"
                rpy="0 0 0" />
            <mass
                value="${collector_mass_multiplier*(0.373)}" />
            <inertia
                ixx="${collector_mass_multiplier*(0.003466)}"
                ixy="${collector_mass_multiplier*(9.698529E-06)}"
                ixz="${collector_mass_multiplier*(-2.849826E-05)}"
                iyy="${collector_mass_multiplier*(0.0042937)}"
                iyz="${collector_mass_multiplier*(0.0005667)}"
                izz="${collector_mass_multiplier*(0.0019856)}" />
            </inertial>

            <visual>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/collector.STL" />
            </geometry>
            <material
                name="">
                <color
                rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
            </material>
            </visual>
            <collision>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/collector.STL" />
            </geometry>
            </collision>
        </link>
        <joint
            name="collector_joint"
            type="fixed">
            <origin
            xyz="0.0094753 -0.11331 0.048119"
            rpy="1.5708 0 0" />
            <parent
            link="base_link" />
            <child
            link="collector" />
            <axis
            xyz="0 0 0" />
        </joint>
        <link
            name="left_cover">
            <inertial>
            <origin
                xyz="0.0339621470957824 0.172876722995866 0.102900925287308"
                rpy="0 0 0" />
            <mass
                value="0.348968668389245" />
            <inertia
                ixx="0.00220864016861759"
                ixy="-9.94750925638527E-05"
                ixz="-0.000119883170893584"
                iyy="0.00198390619746038"
                iyz="-0.000357322467893688"
                izz="0.000935622364254192" />
            </inertial>
            <visual>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/left_cover.STL" />
            </geometry>
            <material
                name="">
                <color
                rgba="1 1 1 1" />
            </material>
            </visual>
            <collision>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/left_cover.STL" />
            </geometry>
            </collision>
        </link>
        <joint
            name="left_cover_joint"
            type="fixed">
            <origin
            xyz="0.01014 -0.11017 0.072246"
            rpy="-1.5708 0 0" />
            <parent
            link="collector" />
            <child
            link="left_cover" />
            <axis
            xyz="0 0 0" />
        </joint>
        <link
            name="paddle">
            <inertial>
            <origin
                xyz="0.00973380728811933 3.27377014386343E-14 -8.10081168811649E-13"
                rpy="0 0 0" />
            <mass
                value="0.165548548604918" />
            <inertia
                ixx="0.000631829797905281"
                ixy="-1.39557756740262E-16"
                ixz="-5.34445213789333E-15"
                iyy="0.00050636909780647"
                iyz="-5.81383519885487E-13"
                izz="0.000506369100143511" />
            </inertial>
            <visual>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/paddle.STL" />
            </geometry>
            <material
                name="">
                <color
                rgba="1 1 1 1" />
            </material>
            </visual>
            <collision>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/paddle.STL" />
            </geometry>
            </collision>
        </link>
        <joint
            name="paddle_joint"
            type="continuous">
            <!--<origin
            xyz="0 0.22408 0.12"
            rpy="2.6432 0 3.1416" />-->
            <origin
            xyz="-0.02 0.22408 0.12"
            rpy="2.6432 0 3.1416" />
            <parent
            link="left_cover" />
            <child
            link="paddle" />
            <axis
            xyz="1 0 0" />
        </joint>
        <link
            name="right_cover">
            <inertial>
            <origin
                xyz="-0.00573994781975205 -0.0426051719539319 0.00250436597775372"
                rpy="0 0 0" />
            <mass
                value="0.109962415450793" />
            <inertia
                ixx="0.000151796678959519"
                ixy="-5.32196527116854E-05"
                ixz="-3.88882629755323E-09"
                iyy="0.000384457111161325"
                iyz="4.02644466212909E-08"
                izz="0.000535795937644261" />
            </inertial>
            <visual>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/right_cover.STL" />
            </geometry>
            <material
                name="">
                <color
                rgba="1 1 1 1" />
            </material>
            </visual>
            <collision>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/right_cover.STL" />
            </geometry>
            </collision>
        </link>
        <joint
            name="right_cover_joint"
            type="fixed">
            <origin
            xyz="-0.055 0.0098333 -0.15183"
            rpy="-1.5708 0 1.5708" />
            <parent
            link="collector" />
            <child
            link="right_cover" />
            <axis
            xyz="0 0 0" />
        </joint>
        <link
            name="right_support_rod">
            <inertial>
            <origin
                xyz="-0.0013764782936087 0.038550080437723 0"
                rpy="0 0 0" />
            <mass
                value="0.00511240249562875" />
            <inertia
                ixx="4.56403013951185E-06"
                ixy="-2.5136215429555E-07"
                ixz="-1.05770456001034E-18"
                iyy="1.1174576332198E-07"
                iyz="-2.28998634241562E-22"
                izz="4.55443005887314E-06" />
            </inertial>
            <visual>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/right_support_rod.STL" />
            </geometry>
            <material
                name="">
                <color
                rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
            </material>
            </visual>
            <collision>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/right_support_rod.STL" />
            </geometry>
            </collision>
        </link>
        <joint
            name="right_support_rod_joint"
            type="fixed">
            <origin
            xyz="-0.018957 -0.11344 -0.047048"
            rpy="1.5708 0 0" />
            <parent
            link="base_link" />
            <child
            link="right_support_rod" />
            <axis
            xyz="0 0 0" />
        </joint>
        <link
            name="left_support_rod">
            <inertial>
            <origin
                xyz="-0.00137647829362111 0.0385500804377229 1.38777878078145E-17"
                rpy="0 0 0" />
            <mass
                value="0.00511240249562874" />
            <inertia
                ixx="4.56403013951185E-06"
                ixy="-2.51362154297282E-07"
                ixz="-1.10898281546734E-18"
                iyy="1.11745728122124E-07"
                iyz="1.8711347851141E-21"
                izz="4.55443002367328E-06" />
            </inertial>
            <visual>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/left_support_rod.STL" />
            </geometry>
            <material
                name="">
                <color
                rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
            </material>
            </visual>
            <collision>
            <origin
                xyz="0 0 0"
                rpy="0 0 0" />
            <geometry>
                <mesh
                filename="package://pick_ball_mbot/meshes/left_support_rod.STL" />
            </geometry>
            </collision>
        </link>
        <joint
            name="left_support_rod_joint"
            type="fixed">
            <origin
            xyz="0.044933 -0.11344 -0.047048"
            rpy="1.5708 0 3.1416" />
            <parent
            link="base_link" />
            <child
            link="left_support_rod" />
            <axis
            xyz="0 0 0" />
        </joint>

    </xacro:macro>

</robot>
